# This is based on the excellent gromacs CWL tutorial http://mmb.irbbarcelona.org/webdev/slim/biobb/public/availability/tutorials/cwl
# The `in` tags are superfluous, but retained for now to simplify implementation.
# Limit nsteps to 1000 for demo / development.
steps:
  - pdb:
      in:
        output_pdb_path: tutorial.pdb
        config: '{"pdb_code" : "1aki"}'
  - fix_side_chain:
# Setup
  - pdb2gmx:
  - editconf:
      in:
        config: '{"box_type": "cubic","distance_to_molecule": 1.0}'
  - solvate:
  - grompp:
      in:
        config: '{"mdp": {"integrator":"steep"}}'
  - genion:
      in:
        config: '{"neutral": "True"}'
        output_top_zip_path: $genion.top